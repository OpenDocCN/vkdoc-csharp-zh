# 一、简介和入门

欢迎来到*高级 Unity 游戏开发*正文第 [1](01.html) 章。Unity 是一个强大的游戏创作工具。在许多方面，它几乎太强大和复杂了。这使得一些游戏开发者很难充分发挥该软件的潜力。文档、书籍和教程是降低学习曲线的好方法。编程经验，尤其是 C#编程经验，以及对 Visual Studio 的熟悉也将极大地提高您使用 Unity 的时间。

有了所有这些不同的培训选择，其中许多是免费的，这本书提供了什么，其他人没有？是什么让它脱颖而出？嗯，在大多数情况下，前面提到的学习材料会告诉你如何在 Unity 中完成一个简单的任务。他们会给你看一个未完成的小游戏或演示来说明手头的材料。这本书与其他书的不同之处在于，它包含了一个完整的代码审查，详细介绍了一个全功能和完整的 Unity 游戏。这包括以下一般主题:

*   运行完整游戏的代码和类

*   代码结构要点

*   项目结构要点

*   水平/轨道建筑

*   人工智能对手/玩家

*   完整的 HUD 和菜单系统

*   音乐和音效

*   玩家偏好

*   触摸、鼠标、键盘、游戏手柄输入

*   模型、预设和脚本

这本书将引导你通过游戏的代码，脚本，模型，预置，和整体结构，同时向你展示代码如何与 Unity 引擎一起定义一个完整的，精致的游戏。在本文结束时，您将在以下专业领域获得经验，因为您将在指导下实现一个悬停赛车游戏:

*   C#:具有类、类管理和类代码集中化的项目级方面的经验

*   Unity 编码:使用扩展 Unity Monobehaviour 类的类的经验。在基于组件的游戏引擎中使用组件

*   Visual Studio:体验导航项目、查看和编辑类文件

*   Unity C#项目管理:拥有完整的 Unity 游戏和相关 C#代码的工作经验

*   Unity 环境:体验导航复杂 Unity 项目的模型、预设、资源、脚本文件和场景

*   Unity 项目管理:处理较小场景和相关类、预设和模型的经验

我们将回顾游戏功能的细节以及我们在整个旅程中遇到的 Unity 中的关键概念。这将给你一个坚实的基础，在此基础上建立你的 Unity 游戏开发的未来。我们将采取的一般路径如下:

1.  回顾汽车模型、赛道、赛道特征以及它们之间的交互。

2.  回顾驱动游戏的代码。代码分为以下几组:
    1.  基类

    2.  交互类

    3.  高级交互类

    4.  助手类

    5.  输入类

    6.  菜单系统类别

    7.  玩家和游戏状态类

3.  回顾以下与 Unity 相关的主题:
    1.  输入映射

    2.  场景结构和不活跃的游戏对象

    3.  GameObject 标签

    4.  多摄像机设置

    5.  场景照明

    6.  音乐和音效

    7.  人工智能对手

    8.  将其应用到一个新的水平/轨道

在旅程的最后，你将拥有制作下一个伟大游戏所需的所有知识和经验。既然我们已经知道了摆在我们面前的是什么，让我们开始我们旅程的第一步，让我们的游戏开发环境启动并运行起来。

## 设置您的环境

在开始之前，我们需要正确设置和配置我们的环境。我们需要做的第一件事是打开浏览器并导航到 Unity 网站。导航至 [`www.unity.com`](http://www.unity.com) 并创建一个新账户(如果您尚未创建)。完成这个过程，并确保您完成帐户验证步骤，因为您需要一个活跃的帐户，然后才能开始与包括赛车游戏项目。

在撰写本文时，使用 Unity 的正确方式是通过 Unity Hub 应用。该应用充当 Unity 项目的抽象层和集中点。该软件允许你管理多个项目，每个项目使用不同版本的 Unity。在 Unity 网站上找到下载页面并下载最新版本的 Unity Hub。安装软件。完成后，打开 Unity Hub 并使用您刚刚创建的帐户登录。

目前，Unity Hub 可以在 Windows、macOS 和某些 Linux 发行版上运行。有关如何安装 Unity Hub 以及支持哪些操作系统的快速参考，请在浏览器中导航至以下 URL:

[https:// docs。unity3d。com/Manual/getting start in stalling hub。html](https://docs.unity3d.com/Manual/GettingStartedInstallingHub.html)

接下来，我们将安装 Unity 的最新版本。打开 Unity Hub(如果您尚未打开),然后选择屏幕左侧的“安装”选项卡。选择最新版本的 Unity，并选择您想要与 Unity 编辑器一起安装的模块。

出于本文的目的，我们建议您仅选择下列模块。当然，如果你对你想要安装的模块有自己的想法，请随意。我们唯一的要求是将“Visual Studio”配置为 Unity 编辑器的默认脚本 IDE。您可以单独安装 Visual Studio，但我将只提供如何将其作为 Unity 模块安装的说明。

1.  在“开发工具”下，选择“Microsoft Visual Studio 社区”；这是必需的。

2.  为您的操作系统选择本机构建模块。根据您的操作系统选择以下选项之一:
    1.  Linux 构建支持(IL2CPP 或 Mono)

    2.  Mac 构建支持(单声道)

    3.  Windows 生成支持(IL2CPP)

您可以通过 Unity Hub 软件安装新模块或卸载现有模块。选择“安装”选项卡，然后单击目标 Unity editor 版本的图标上的三个点。从上下文菜单中选择“添加模块”,您可以自定义为该版本的 Unity editor 安装的模块。尝试将 Android 和 WebGL 构建模块的安装添加到您的设置中。安装了它们之后，您将有一些有趣的构建目标可以使用。既然我们已经解决了这个问题，让我们获取一份与本文相关的赛车游戏项目的副本。将您的浏览器导航到以下 URL:

`www.middlemind.net/urgbook/[BOOK PUBLICATION`[`https://github.com/Apress/Advanced-Unity-Game-Development`](https://github.com/Apress/Advanced-Unity-Game-Development)T2】

查找游戏项目的最新版本。将列出的 Unity 版本与您刚刚安装的 Unity editor 的当前版本进行比较。如果游戏项目版本较旧，尝试使用前面列出的过程安装该版本的 Unity 编辑器。如果旧版本在 Unity editor 版本列表中不可用，则安装最早的可用版本。

如果你发现自己在第二种情况下，一个旧版本不可用，那么我建议按照这个过程来升级游戏项目。首先，用刚刚安装的旧版本 Unity 打开项目。应该会提示您升级项目。这样做，当升级过程完成时，保存项目。完成这些步骤后，执行相同步骤，只是这次使用您安装的最新版本的 Unity editor。第二次升级完成后，保存项目。

这种方法可以安全地将项目升级到 Unity 的最新版本。让我们打开项目，检查一些东西。一旦赛车游戏项目完成加载，打开“首选项”窗口，“编辑”➤“首选项”，并选择“外部工具”标签。确保“外部脚本编辑器”首选项设置为“Visual Studio”

如果您在可用编辑器列表中没有看到“Visual Studio ”,请返回并检查您的 Unity 编辑器版本的已安装模块，并确保安装了“Visual Studio”。如果您仍然遇到问题，请重新安装 Unity 编辑器，并确保选择“Visual Studio”模块。

## 玩悬浮赛车/做好准备

现在我们已经解决了这个问题，让我们在打开 Unity 编辑器的同时测试一下这个游戏。让我们检查一下默认情况下哪个场景被打开了，如果有的话。查看 Unity 编辑器窗口的标题栏。当前打开场景的名称应该列在窗口标题中。如果你在标题中看到单词“Main13”或“Main14 ”,那么我们就可以开始了。如果没有，那么我们就必须打开正确的场景。去“项目”面板，或者如果你没有看到它，去主菜单，选择“窗口”➤“面板”➤“项目”，并打开它。

找到名为“场景”的文件夹并打开它。双击名为“Main13”的场景。一旦场景加载完毕，我们需要定位“游戏”面板。如果找不到，就按照前述步骤打开。一旦面板打开，选择它，你应该在屏幕上看到一堆 UI 和菜单。这很好。找到编辑器窗口顶部中间的播放按钮。在你按下播放键之前，让我来回顾一下游戏的控制。

要控制汽车的方向，请左右移动鼠标。要加速汽车，按键盘上的向上箭头。你可以用左右箭头键来左右“扫射”汽车。要减慢车速，请使用返回箭头键。好了，现在你已经掌握了基本知识，按 play，然后在游戏中点击以确保输入是活动的。单击主菜单的“赛道 1”按钮，玩几场比赛。

既然你已经有机会玩这个游戏，让我们停止称它为“赛车游戏”我们现在称之为“悬浮赛车”所以从现在开始，当你看到“悬浮赛车”这几个字时，我最有可能指的是这个项目或这个游戏，这取决于上下文。我将使用汽车、玩家、当前玩家、赛车、悬停赛车或赛车来描述游戏的玩家，包括人类和人工智能。根据上下文，这可能意味着当前玩家、人类玩家或游戏中的任何对手玩家。注意上下文。

关于这个游戏的一点点。悬停赛车是一个完整的赛车游戏，支持三种比赛类型:简单，经典，和战斗。三个难度:容易，中等，困难。它有两条内置轨道。正如我们所看到的，游戏有一个完整的 UI 实现，包括游戏中的 HUD 和菜单系统。此外，游戏有背景音乐、音效和获胜条件。这里主要的要点是游戏是精致的、专业的和完整的。这不是一个演示或辅导项目。这是一个完整的游戏，有一套完整实现的功能。

通过这本书的结论，你会对 Hover Racers 游戏的工作原理有一个完整的理解。在这一点上，你将能够看到这个项目更像是一块被塑造的粘土，而不是一个最终的雕塑。您将能够看到项目的本来面目，并能够使用您在此获得的知识添加您自己的功能来塑造它。此外，您可以将这些知识应用到任何 Unity 游戏开发项目中。包括你自己的，下一个伟大的游戏。

我们会一起回顾绝大多数代码，所以你不一定需要精通 C#，但建议有一些编程经验。这里有一些教程，你可以阅读，以获得对 Unity、Visual Studio 和 C#的基本理解:

*   [T2`https://docs.microsoft.com/en-us/dotnet/csharp/tour-of-csharp/tutorials/`](https://docs.microsoft.com/en-us/dotnet/csharp/tour-of-csharp/tutorials/)

(C#入门教程)

*   [T2`https://visualstudio.microsoft.com/vs/getting-started/`](https://visualstudio.microsoft.com/vs/getting-started/)

(Visual Studio 入门教程)

*   [T2`https://docs.unity3d.com/Manual/LearningtheInterface.htm`](https://docs.unity3d.com/Manual/LearningtheInterface.htm)

(Unity 编辑器简介)

*   [T2`https://docs.unity3d.com/Manual/CollidersOverview.html`](https://docs.unity3d.com/Manual/CollidersOverview.html)

(Unity 碰撞简介)

这就引出了本节的结论。在下一节中，我们将以对我们所学内容的总结来结束这一章。

## 第二章结论

这就引出了本章的结论。在这小小的介绍章节中，我们实际上涵盖了相当多的内容。让我们来看看到目前为止我们都做了些什么:

1.  列出了 Unity 游戏开发主题，您可以通过阅读和阅读本文获得经验

2.  列出了通过使用本文你将获得经验的一般的、支配性的技能

3.  制定了一个处理我们需要覆盖的材料的计划

4.  设置我们的环境，包括安装 Unity Hub、Unity 编辑器和 Visual Studio

5.  玩过悬浮赛车

现在我们已经处理好了所有的问题，我们准备开始审查游戏的代码。但是等等！我们必须概述我们正在进行的游戏。当然，我们有一个游戏的成品副本，所以这似乎有点多余，不是吗？好吧，我们真的需要把这当成一次有指导的游戏回顾之旅。因此，我们将在下一章研究盘旋赛车游戏规范，并在后续章节详细回顾游戏代码。