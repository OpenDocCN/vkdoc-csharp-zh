# 一、介绍

在本书中，我们将学习如何使用 Unity (Unity3D 2018，或者更常见的是 Unity)的游戏开发软件来创建一个增强现实(或 AR)游戏。在这一章中，我们将介绍 Unity 的下载和安装过程，并了解 Unity 提供的一些工具。我们还将从 Unity 资产商店安装一个现有的 AR 项目，并探索这个游戏的一些功能。在第 [2](2.html) 章中，我们将安装 ARKit 并概述 Unity 用户界面。在第 3 章[中，我们将开始使用 Unity ARKit 并使用一些关键功能。我还将提供视觉惯性里程计的基本概述，以及这对创建 AR 项目意味着什么。我们将制作一个基本场景来使用和测试 Unity ARKit。在第四章](3.html)[中，我们将使用 Unity ARKit 中一些更高级的功能，比如点击测试和 AR 场景照明。最后，在第](4.html) [5](5.html) 章，我们将把这些放在一起，用 Unity ARKit 制作一个 AR 游戏。

这本书是为没有使用 Unity 或制作游戏经验的初学者而写的。这些章节是按顺序编写的，有助于学习每一步。然而，如果你正在读这本书，并且已经知道了 Unity 或者制作游戏，那么请随意跳过你认为已经知道的章节。

## Unity3D

Unity 游戏引擎是一个跨平台的游戏开发工具，用于创建 2D 和 3D 游戏。跨平台这个术语对不同的人有不同的含义。由于 Unity 可以在 macOS、Windows 或 Linux 上使用，这可以被认为是一个跨平台的开发工具。然而，由于 Unity 可用于为游戏控制台、个人电脑、网络浏览器、移动设备、VR 系统等开发游戏。，这也可能是 Unity 被认为是跨平台开发工具的原因。

Unity 可以用来创建 3D 游戏，即游戏看起来像是在 3D 空间中操作(它有一个 X，Y，**和**一个 Z)。Unity 也可以用来制作 2D 游戏。最近，Unity 被用于创建 VR 和 AR 游戏或模拟。

在本书中，我们将使用 Unity 的最新版本，目前是 2018.1。然而，像大多数软件(和许多硬件)一样，Unity 正在不断推出新的特性和功能，到本书出版时，可能会有更新版本的 Unity 推出。当 Unity 对他们的软件做一个小的改动时，他们通常会添加一个数字(比如 2018.1.1)。当更新稍微实质性一点的时候，那么版本号就会改变(比如 2018.2)。当 Unity 通常做出重大改变时，那么版本号将完全改变(Unity 1，2，3，4，5)。2017 年 7 月，Unity 将版本编号系统改为发布年份(2017 年和现在的 2018 年)。

## 统一要求

在你开始学习制作游戏之前，你需要下载 Unity 并安装在你的 Mac 上。虽然在 Windows 个人电脑上安装 Unity 可以为 iOS 设备制作游戏，但你需要使用一款名为 Xcode 的软件来移植 Unity 代码，以便它可以在 Mac 或 iOS 设备上运行。目前，Xcode 只能在 Mac 上使用。因此，如果你有一台 Windows PC，那么在某个阶段你将需要使用 Mac 来移植游戏。在本书中，我将使用 Mac 如果您使用的是 Windows PC，那么许多说明或指示可能不适用于您。

### 准备您的 Mac

对于使用 Unity 的 iOS 开发，您需要一台运行 Mac OS X 10.9 或更高版本和 Xcode 7.0 或更高版本的 Lion 或 Mountain Lion 的 Mac。Unity 2018 可能仍然可以在一些较旧的系统上运行，但您将需要最新版本的 Xcode，如前所述，这是 iOS 开发所必需的。最新版本的 Xcode 通常支持更新版本的 iOS。在撰写本文时，Xcode 的当前版本是第 9 版，这也是我将在本书中使用的版本。

### 注册

我强烈推荐登录苹果开发者网站( [`https://developer.apple.com/`](https://developer.apple.com/) )并注册成为一名 iOS 开发者。虽然这不是本书的绝对要求，但如果你想在 App Store 上发布游戏，那么你需要成为一名注册的苹果开发者。注册成为 Apple 开发人员的过程可能需要一段时间，尤其是在注册公司的情况下。第一步是注册成为苹果开发者(目前是免费的)，然后一旦你注册了，下一步就是注册成为 iOS 开发者(目前是每年 99 美元)。

### 下载 Xcode

在本书的后面，你将不再需要 Xcode，但是下载并安装 Xcode 是值得的。你可以在苹果开发者网站上找到最新版本的 Xcode([`https://developer.apple.com/`](https://developer.apple.com/))。

### 下载 Unity

现在是安装 Unity 的最佳时机。前往 Unity 网站的 [`https://unity3d.com`](https://unity3d.com) ，然后选择获取 Unity 或输入 [`https://store.unity.com/`](https://store.unity.com/) 。在这个页面上，你会找到 Unity 的最新版本(撰写本文时，2018.1)。您也可以在 Unity 网站上找到 Unity 以前的版本。

虽然只有一个 Unity 应用，但您可以订阅不同的许可选项，这取决于您的需求和您公司的规模(如果您有)。目前有三种许可选项:个人版、高级版和专业版。要开始下载过程，请单击符合您需求的订阅选项按钮(在撰写本文时，这将是 Try Personal、Get Plus 或 Go Pro)。该文件大约 1GB，因此下载可能需要一段时间。当你在 Unity 网站上等待的时候，花些时间去看看一些已经发布的游戏和演示，社区网站和用户论坛。这些将在使用 Unity 开发游戏的过程中非常有用。

### 安装 Unity

您从 Unity 下载的文件是一个下载安装程序，在编写本文时，它的名称是 UnityDownloadAssistant。

#### 运行下载助手

下载完 UnityDownloadAssistant 文件后，双击该文件运行 Unity 下载助手。双击 Unity 下载助手图标开始安装 Unity(图 [1-1](#Fig1) )。

![img/460089_1_En_1_Chapter/460089_1_En_1_Fig1_HTML.jpg](img/460089_1_En_1_Chapter/460089_1_En_1_Fig1_HTML.jpg)

图 1-1

Unity 下载助手

安装程序将完成整个安装过程，完成后，一个 Unity 文件夹将被放置在“应用”文件夹中(除非您选择了不同的位置)。如果您安装了以前版本的 Unity，新版本的安装可能会替换以前的版本。我建议在安装新版本(比如 Unity2017)之前，先重命名之前版本的文件夹。这样你仍然可以使用两个版本的 Unity。

Unity 安装文件夹包含 Unity 应用和几个支持文件夹和应用(图 [1-2](#Fig2) )。

![img/460089_1_En_1_Chapter/460089_1_En_1_Fig2_HTML.jpg](img/460089_1_En_1_Chapter/460089_1_En_1_Fig2_HTML.jpg)

图 1-2

Unity 安装文件夹

Unity 文件夹中最重要的文件之一是 Unity 应用，它将提供用于创建和测试游戏的工具。这个应用有时被称为 Unity Editor，它不同于另一个应用 Unity Runtime Engine(也称为 Unity Player)。Unity 运行时引擎被集成到最终版本中，这将使游戏能够在目标硬件上运行。当我提到 Unity 时，我通常指的是 Unity 编辑器。我有时会把 Unity technologies 公司称为 Unity。但希望背景是清晰的。

文档文件夹包含用户手册、组件参考和脚本参考文档。这些也可在 Unity 网站上获得(选择学习链接)。所有这些文件都是 HTML 文档，可以通过 Unity 帮助菜单系统在 web 浏览器中打开，也可以通过双击文件直接打开。

“标准资源”文件夹包含几个带有。unityPackage 文件扩展名。这些是 Unity 包文件，包含 Unity 资产的集合，可以导入到 Unity 中。也可以创建自己的标准资产，并将这些资产导出到包文件中。

还有 Unity Bug Reporter 应用。该应用通常使用报告错误功能直接从 Unity 编辑器中运行。但是，该应用直接从 Unity 安装文件夹运行。

如果您下载了带有 Unity 安装的示例项目，请确保在 Unity 中打开它。如果您没有在安装时下载它，它仍然可以在任何时候下载。

### 欢迎

在 Unity 安装完成后(请做好准备，这需要一段时间)，Unity 编辑器欢迎界面将会出现，并显示 Unity Hello！窗口(图 [1-3](#Fig3) )。统一你好！窗口是您登录 Unity 帐户(如果您有)的地方。如果您没有 Unity 帐户，请选择创建一个链接。如果您当前没有连接到 Internet，您可以通过选择“脱机工作”按钮来脱机工作。

![img/460089_1_En_1_Chapter/460089_1_En_1_Fig3_HTML.jpg](img/460089_1_En_1_Chapter/460089_1_En_1_Fig3_HTML.jpg)

图 1-3

统一你好！屏幕

统一你好！当您启动 Unity 时会出现一个窗口(图 [1-3](#Fig3) )。如果您还没有创建一个 Unity 帐户，我强烈建议您创建一个。

首次登录后，您将看到许可证管理屏幕。如果您已经购买了 Unity 的许可版本，请在对话框中输入您的许可序列号。如果您想使用免费版的 Unity，请选择 Unity 个人单选按钮(图 [1-4](#Fig4) )。

![img/460089_1_En_1_Chapter/460089_1_En_1_Fig4_HTML.jpg](img/460089_1_En_1_Chapter/460089_1_En_1_Fig4_HTML.jpg)

图 1-4

Unity 许可证管理屏幕

### 建立统一

在我们开始用 Unity 制作游戏之前，这是一个回顾 Unity 的一些选项和管理特性的好时机。

#### 更换皮肤(专业版)

如果您已经购买了 Unity 的 Pro 许可证，您将可以选择浅色或深色皮肤。如果你用的是免费版的 Unity，你只会看到浅色的皮肤。

由于大部分初学游戏开发者使用免费版的 Unity，所以我会使用浅色皮肤进行截图。浅色皮肤也为这本书的平装版提供了更好的截图。如果您有 Pro 版本并想要更改皮肤，请在 Unity 菜单中选择首选项(图 [1-5](#Fig5) )。

![img/460089_1_En_1_Chapter/460089_1_En_1_Fig5_HTML.jpg](img/460089_1_En_1_Chapter/460089_1_En_1_Fig5_HTML.jpg)

图 1-5

Unity 首选项菜单

在首选项菜单打开的情况下，您可以将皮肤从深色更改为浅色或从浅色更改为深色(图 [1-6](#Fig6) )。如果你用的是 Unity 个人版，你就只能用浅色皮肤了。

![img/460089_1_En_1_Chapter/460089_1_En_1_Fig6_HTML.jpg](img/460089_1_En_1_Chapter/460089_1_En_1_Fig6_HTML.jpg)

图 1-6

Unity 编辑器中的“通用偏好设置”菜单

当您打开“通用偏好设置”菜单时，我建议您确保取消选择“启动时加载上一个项目”选项。这将确保 Unity 在启动时加载项目选择对话框。这将确保您避免更新项目的错误版本或在准备好之前更新您正在使用的 Unity 版本。

#### 报告问题

如果你继续使用 Unity 几年，你会遇到一些 bug(真实的和想象的都有)。我从 1.6 版本开始使用 Unity，遇到了几个关于 Unity 的 bug。软件漏洞并不是 Unity 独有的。一个游戏开发引擎是一个复杂的软件，Unity 当然欣赏和重视错误报告。如果错误没有被报告，那么 Unity 很难修复它们。Unity Bug Reporter 应用提供了这个特性。如前所述，在 Unity 安装文件夹中可以找到报告错误报告程序，也可以从 Unity 编辑器的帮助菜单中找到(图 [1-7](#Fig7) )。

![img/460089_1_En_1_Chapter/460089_1_En_1_Fig7_HTML.jpg](img/460089_1_En_1_Chapter/460089_1_En_1_Fig7_HTML.jpg)

图 1-7

“帮助”菜单中的“报告错误”选项

选择帮助菜单上的报告、错误选项或双击 Unity 安装文件夹中的报告错误应用，打开 Unity 报告错误应用(图 [1-8](#Fig8) )。该应用为用户提供了菜单选项和对话框，以指定问题与什么相关、问题发生的频率、错误的标题、错误的详细信息，以及附加任何有助于修复错误的相关文件的选项。Unity Bug Reporter 要求用户指定一个电子邮件地址，以便 Unity 团队可以回复 Bug 报告。

![img/460089_1_En_1_Chapter/460089_1_En_1_Fig8_HTML.jpg](img/460089_1_En_1_Chapter/460089_1_En_1_Fig8_HTML.jpg)

图 1-8

Unity Bug 报告器窗口

### iOS 开发要求

在本章的前面，我建议下载 Xcode 并注册苹果开发者计划是个好主意。如果你还没有记下来，现在是时候停下来做这件事了。

苹果开发者支持页面( [`https://developer.apple.com/`](https://developer.apple.com/) )上列出了 iOS 开发的硬件和软件要求以及关于苹果开发者计划的详细信息。您也可以在 [`https://developer.apple.com/Xcode/`](https://developer.apple.com/xcode/) 找到 Xcode 的需求和下载页面。

### Unity 网站

随着 Unity Technologies 增加了 Unity 的特性和功能，内容的广度和深度也在增加。这个网站上有很多信息，但我建议看看常见问题部分( [`https://unity3d.com/unity/faq`](https://unity3d.com/unity/faq) )。还有一些很棒的教程、文档和视频可以帮助你学习在 Unity ( [`https://unity3d.com/unity/faq`](https://unity3d.com/unity/faq) )中创建游戏。

### Unity 社区

在“帮助”菜单中，有到官方 Unity 社区网站的链接。这包括由 Unity 工作人员主持的官方 Unity 论坛( [`https://forum.unity.com`](https://forum.unity.com) )。这对任何游戏开发者来说都是一个很好的资源。在这个菜单上还有一个到 Unity Answers 的链接，它使用堆栈交换格式，包括一些对问题和答案的控制(或审核)。

Unity 反馈网站( [`https://feedback.unity3d.com`](https://feedback.unity3d.com) )允许开发者请求并投票表决未来可能的特性。

欢迎来到 Unity。