# 1.介绍

在过去十年蓬勃发展的所有技术中，有一项对我们的社会变得至关重要，它增强了所有其他技术领域以及我们生活的方方面面:人工智能(AI)。从导航系统到智能汽车，从虚拟助手到我们智能手机上的增强现实(AR)应用程序，几乎我们使用的每一个软件和设备都在引擎盖下具有人工智能。电子游戏也不例外。

我们越深入，越多的人工智能以非玩家角色(NPC)、模拟和最近旨在增强用户体验的 AR 应用的形式出现在游戏应用中。机器学习算法开始成为增强图形和动画甚至实现新游戏功能的常见解决方案。

在这一章中，我将向你简要介绍人工智能，并谈谈它与电子游戏的关系。最后，我将向你展示这本书能为你提供什么，以及能从中期待什么。

先说基本问题:什么是人工智能？

## 1.1 人工智能

智力是我们人类最感兴趣的特征。我们在野生世界中生存下来，这要感谢我们的智慧，它让我们能够通过理解自然法则以及如何制作和使用工具来利用它们来维持我们的物种，从而将自己强加于动物和环境本身。

感谢我们的智慧，我们不仅设法生存下来，还进化并建立了一个能最大化我们生存机会的世界，创造了复杂的组织系统来满足我们所有的需求。

这就是为什么我们现在仍然如此重视智力。我们根据人们的智力来判断他们；我们看重他们跳出框框思考、优化流程或在特定流程中获得最佳结果的能力。对我们来说，智力不仅仅是思考的能力，更重要的是感知和理解我们周围的世界，并采取行动以利用它来达到我们的目标的能力。

智能是大自然赐予我们的祝福，通过人工智能，我们的目标是将火炬传递给我们自己的创造:机器。

人们仍然在争论，人工智能更多的是让机器像人类一样思考和行动，还是创造出具有理性思维天赋的机器，以尽可能最好的方式利用环境有目的地做事。这两个方向都是完全合法的，并且会导致非常有趣的结果。在本书中，我们将探索人工智能的解释，旨在创建理性的代理，这些代理可以处理来自环境的感知，并应用推理过程来阐述它们，以提出解决复杂问题的解决方案(一个动作或一系列动作)。

在下一节中，我们将更详细地了解什么是智能代理以及它们涉及哪些应用程序。

### 智能代理

智能代理是智能系统和代理的结合。

智能系统是一种能够处理信息以达到特定目标的装置，而智能体是一种对其接收到的信息做出反应的东西。因此，智能代理是一个能够处理感知信息并采取行动以达到特定目标的系统。

智能体由感知环境的*传感器*和允许它们采取行动的*执行器*组成(图 [1-1](#Fig1) )。

![../images/491049_1_En_1_Chapter/491049_1_En_1_Fig1_HTML.jpg](../images/491049_1_En_1_Chapter/491049_1_En_1_Fig1_HTML.jpg)

图 1-1

智能体拥有感知环境的传感器和对环境做出反应的执行器

在我们的脑海中，很容易将智能代理描绘成一个机器人，它有光电池、照相机、天线或其他类型的传感器等设备来感知环境，一台计算机来处理信息，并使用某种致动器来执行某个动作，如机械臂、轮子或其他类型的与世界交互的机制。

从数学的角度来看，智能代理可以被视为一个函数，其中参数是感知；该函数的逻辑允许对结果(返回值)的理解进行细化，该结果是要采取的最终动作。

这可以用下面的定义来表示:

```
→→ P* → A

```

这意味着代理函数→将每个可能的感知序列`P*`映射到一个适当的动作`A`。显然，这个概念很容易用编程语言来表达，它将是我们创造具有统一性的智能代理的基础。

在开始谈论 Unity，我们将用来探索 AI 的游戏引擎之前，让我们看看 AI 和智能代理如何与视频游戏世界相关联。

### 1.1.2 视频游戏中的人工智能

从视频游戏历史的最开始，人工智能就是其中的一部分。事实上，最早的人工智能应用之一是智能代理，它们能够自己与其他人工智能和人类玩游戏。那种智能代理只是程序，可以自己玩一个游戏，不需要人类的帮助。他们的目标是做出最佳选择来赢得比赛。他们感知游戏环境，精心整理收集的数据，拿出最方便的动作。

1997 年，由 IBM 开发的人工智能“深蓝”在一场国际象棋比赛中击败了世界冠军加里·卡斯帕罗夫，这是自主游戏代理人的第一次伟大胜利。卡斯帕罗夫在评论那场比赛时说，“那天我感觉到了一种新的智慧。”

今天，赢下一盘对抗人工智能的棋是不可能的。人工智能对人类的另一个更近的胜利是在 2011 年，IBM 制造的新人工智能 Watson 在 *Jeopardy 中遥遥领先！*对战人类玩家。沃森的成就比深蓝更令人印象深刻，因为要赢得*的危险！你需要对流行文化有很深的了解，并且能够联系音乐、八卦、电影等领域的事实。虽然我们期望人工智能擅长数学和象棋等理性推理活动，但我们并不期望它们对我们的文化有更好的理解，而沃森已经证明了这一点——这正是这一成就如此重要的原因。*

随着视频游戏越来越受欢迎，在 20 世纪 70 年代，人工智能开始专注于为单人游戏创造引人注目的敌人。一些最早这样做的游戏是*速度竞赛*(1974 年台东)、 *Qwak！*(雅达利，1974)，以及*追击* (Kee Games，1975)。继这些先驱之后，在所谓的视频游戏黄金时代，人工智能开始在视频游戏中变得越来越受欢迎和常见，一些最初有趣的应用开始出现，例如，在像 *Galaxian* (Namco，1979)和 *Galaga* (Namco，1981)这样的游戏中，敌人突破队形的杂技动作，或者是 *Pac-Man* (Namco，1980)的原始方法，其中敌人具有独特的个性并试图

随着人工智能应用在黄金时代的流行，视频游戏开始实现智能行为，其特征是复杂性增加。特别是，在这些年里，战术和动作 RPG 开始出现在像*龙之任务 IV* 、*博德之门*和*魔法的秘密*这样的游戏中，这些游戏实现了一些有趣的新功能，如发布命令和为团队成员设定行为的可能性，以便他们可以在战斗中自主作战。其他有趣的技术也开始兴起来模拟体育比赛中的团队努力。随着应用程序复杂性的增加，当前技术的局限性开始显现，人们找到了更复杂的解决方案。特别是，在 20 世纪 90 年代，视频游戏开始实现正式的人工智能技术。有限状态机(FSM)就是其中之一，它过去是(现在仍然是)最流行的一种。有限状态机可以很好地解决影响几乎所有游戏类型的一系列问题，但最受欢迎的应用可能是动作游戏中敌人的行为；在这种类型的游戏中，敌人必须对情况做出反应并执行适当的动作，这些行为可以表示为 FSM。

使用有限状态机的视频游戏最受欢迎的例子是*吃豆人* (Namco，1980)和*吃豆人女士* (Namco，1981)。他们引入了敌人适应不同情况的概念，并改变他们的行为决定追逐或逃离玩家。但这还不是全部；事实上，*《吃豆人》*和《吃豆人小姐》也是第一款敌人看起来为了打败玩家的共同目标而合作的游戏。事实上，两个游戏中的敌人是四个不同的鬼魂，具有四种不同的性格，他们遵循互补的策略来追逐玩家，使他们看起来像是实际上在合作遵循一个庞大而组织良好的追逐计划。所有这些都是由于 FSM 实现的，它基本上是一个将状态与动作相关联的图，使 NPC 根据它(或游戏世界)所处的状态采取特定的动作。这样，玩家就有了这样的印象:NPC 实际上是在对特定的情况进行理性的思考和反应。

有限状态机并不是过去的事情，事实上，我们仍然可以在非常现代和复杂的游戏中找到它，如古墓丽影系列游戏或战场或使命召唤系列游戏。一般来说，大多数动作游戏都是通过 FSM 来管理 NPC 的行为。这是因为 FSM 易于实现，对性能的影响很小，但如果设计得当，它可以提供真实可信的用户体验。其他人工智能方法需要更多的资源和工作，在一些游戏类型和情况下，与 FSM 相比，它们甚至不能创建更身临其境或可信的结果。

在今天的电子游戏中，AI 不仅用于创建智能代理。我们最近看到了增强现实(AR)的兴起，它使用计算机视觉技术，通过虚拟元素来增强现实世界中的物体。这类最重要的应用之一是*神奇宝贝 Go* (Niantic，2016)，它允许玩家使用智能手机在现实世界中观看和捕捉神奇宝贝。

人工智能在视频游戏中的其他有趣应用是随着机器学习的进步和普及而出现的，机器学习用于增强许多新视频游戏中的图形和游戏元素。在 Warframe (Digital Extremes，2013)中可以看到一个非常有趣的例子，其中使用了一种机器学习算法，通过观察玩家如何爬墙，并处理数据来标记所有可跑的墙以及这些爬墙的起点和着陆点，来教会敌人如何爬墙。

视频游戏中使用了一些更先进的人工智能技术的著名例子，如史蒂夫·格兰德(Steve Grand)创作的生物系列游戏，这是最著名和最重要的人工生命(al)游戏之一，今天仍被认为是最复杂和最天才的人工生命游戏之一。生物使用许多有趣的人工智能技术，如遗传算法和神经网络，来创造虚拟生物，这些虚拟生物可以通过交配将自己的遗传特征传递给后代，并能够通过在自己的环境中进行实验和从自己的行为后果中学习。这是 AL 最有趣和最重要的产品之一，我强烈建议你购买并玩这个游戏，并阅读史蒂夫格兰德写的关于游戏制作的书:*创作:生活和如何制作它*。

毫无疑问，AI 正变得越来越重要，以许多不同的方式增强视频游戏的整体体验，并跟上 AI 带来的所有变化和进化。从头开始学习是明智的；这意味着理解如何创建基本的智能代理。为了达到这个目标，我们将利用许多属于计算机科学和数学的不同工具。解释的概念将使用 C#编程语言在 Unity 中实现。为了简单起见，我们将不使用复杂的 3D 模型，而只使用非常基本的 3D 对象(主要是几何 3D 形状，如立方体和球体),因为这里的重点不是制作一个好看的视频游戏，而是了解有用的游戏人工智能技术，以重用和适应任何游戏项目。

## 1.2 统一性

团结不需要介绍。它可能是最受欢迎的游戏引擎，它帮助独立开发者和小工作室更容易开发游戏。

我们选择使用 Unity 主要是因为它的简单性和完整性。这是一个非常容易上手的游戏引擎，但同时，它具有许多先进的工具，它的库提供了许多有趣和有用的功能，使我们的工作更容易，让我们专注于有趣的部分。

在 Unity 中，你使用 C#编程，这是一种 OOP 语言，它提供了许多高级特性，打包在华丽的类似 C 的语法中。它是一种极其强大和清晰的编程语言，允许我们用智能工具和清晰性来实现复杂的目标。此外，如果我们想使用 Unity 提供的所有功能，这是最好的选择。最后但同样重要的是，它基于面向对象编程(OOP)范式，允许更结构化和模块化的编码风格。

所有这些特点使 C#成为本书的一个好选择，不仅因为它是完成工作的好工具，还因为它对学习编码和掌握我们将在本书中使用的一些技术非常有用。

获得使用 Unity 和 C#的好处的第一步是实际安装 Unity，所以让我们看看如何做！

### 安装 Unity Hub

Unity 是一个自由软件；把它安装到你的机器上的第一步是从官网下载 Unity Hub:[`https://stsssore.unity.com/download`](https://store.unity.com/download)。

Unity Hub 是一款可以帮助你组织和跟踪所有 Unity 项目和 Unity 版本的软件。使用 Unity Hub，您可以安装或卸载特定版本的 Unity，添加或删除 Unity 项目，并非常容易地将它们链接到特定版本的 Unity。

一旦进入下载页面，您将被要求接受许可协议，之后可以单击下载按钮来获取安装程序。

下载安装程序后，根据是在 Windows、Mac 还是 Linux 上安装，您需要遵循不同的过程:

*   在 Windows 上，您必须接受许可协议，并在您的驱动器上选择一个您希望安装 Unity Hub 的路径，然后按“安装”,该软件将为您的机器获取最新版本的 Unity Hub 软件。

*   在 Mac 上，你只需要像往常一样将应用程序拖到应用程序文件夹中。

*   在 Linux 上，您需要使用 AppImage 文件启动器打开 Unity Hub 安装程序(在本例中是一个 AppImage 文件)。

### 1.2.2 激活您的 Unity ID 和许可证

首次启动 Unity Hub 时，会提示您进入许可管理窗口:在这里，您将被要求激活一个许可以开始使用 Unity(图 [1-2](#Fig2) )。

![../images/491049_1_En_1_Chapter/491049_1_En_1_Fig2_HTML.jpg](../images/491049_1_En_1_Chapter/491049_1_En_1_Fig2_HTML.jpg)

图 1-2

许可证管理窗口。您需要有一个 Unity ID 并激活许可证才能开始使用 Unity

在此之前，您需要创建一个免费的 Unity 帐户，方法是单击屏幕右上角的 Unity ID 图标，然后选择登录(图 [1-3](#Fig3) )和“创建一个”(图 [1-4](#Fig4) )。

![../images/491049_1_En_1_Chapter/491049_1_En_1_Fig4_HTML.jpg](../images/491049_1_En_1_Chapter/491049_1_En_1_Fig4_HTML.jpg)

图 1-4

这是登录表单；点击“创建一个”注册一个 Unity ID

![../images/491049_1_En_1_Chapter/491049_1_En_1_Fig3_HTML.jpg](../images/491049_1_En_1_Chapter/491049_1_En_1_Fig3_HTML.jpg)

图 1-3

单击 Unity ID 图标，然后登录或注册您的 Unity ID

一个包含注册表单的新窗口将会打开(图 [1-5](#Fig5) )。如果你想用谷歌或脸书账户注册，只需填写表格或使用两个按钮中的一个。

![../images/491049_1_En_1_Chapter/491049_1_En_1_Fig5_HTML.jpg](../images/491049_1_En_1_Chapter/491049_1_En_1_Fig5_HTML.jpg)

图 1-5

填写此表格以创建一个 Unity ID，或者如果您想使用您的 Google 或脸书帐户创建，请单击窗口底部的按钮

现在您已使用您的 Unity ID 登录，您可以激活许可证。您可以通过两种方式在许可证管理窗口(图 [1-6](#Fig6) )中完成此操作:

![../images/491049_1_En_1_Chapter/491049_1_En_1_Fig6_HTML.jpg](../images/491049_1_En_1_Chapter/491049_1_En_1_Fig6_HTML.jpg)

图 1-6

现在您已登录您的 Unity ID，您可以使用窗口右上角的两个蓝色按钮之一申请许可证

*   **手动激活**:如果你没有活跃的互联网连接，这很有用。您可以创建一个许可证申请文件，稍后上传到 [`https://license.unity3d.com/manual`](https://license.unity3d.com/manual) 。

*   **引导激活**:您需要遵循一些步骤并回答一些问题，以自动激活您的 Unity ID 上的许可证。

#### 1.2.2.1 手动激活

如果您想要手动激活您的许可证，请单击许可证管理部分中的手动激活按钮(图 [1-6](#Fig6) )。会出现一个小窗口提示您生成并保存一个许可证请求文件，稍后上传到 [`https://license.unity3d.com/manual`](https://license.unity3d.com/manual) (图 [1-7](#Fig7) )。点击“保存许可请求”按钮，将许可请求文件保存在您的计算机上(图 [1-8](#Fig8) )。

![../images/491049_1_En_1_Chapter/491049_1_En_1_Fig8_HTML.jpg](../images/491049_1_En_1_Chapter/491049_1_En_1_Fig8_HTML.jpg)

图 1-8

保存您的许可请求文件，并将其上传到 [`https://license.unity3d.com/manual`](https://license.unity3d.com/manual)

![../images/491049_1_En_1_Chapter/491049_1_En_1_Fig7_HTML.jpg](../images/491049_1_En_1_Chapter/491049_1_En_1_Fig7_HTML.jpg)

图 1-7

手动激活视图。在这里，您可以请求稍后在 [`https://license.unity3d.com/manual`](https://license.unity3d.com/manual) 上传您的许可证

将文件保存到您的计算机后，您需要进入 [`https://license.unity3d.com/manual`](https://license.unity3d.com/manual) ，将您刚刚保存的文件(图 [1-9](#Fig9) )上传到上传表单，然后按下一步按钮。

![../images/491049_1_En_1_Chapter/491049_1_En_1_Fig9_HTML.jpg](../images/491049_1_En_1_Chapter/491049_1_En_1_Fig9_HTML.jpg)

图 1-9

在 [`https://license.unity3d.com/manual`](https://license.unity3d.com/manual) 上传许可证申请文件

上传您的许可证请求将在 Unity Hub 中自动激活您的 Unity ID 帐户，允许您在 PC 上下载 Unity 并开始使用。

#### 1.2.2.2 引导激活

引导式激活需要您有一个可用的互联网连接，但它更快更容易。

您需要在图 [1-6](#Fig6) 所示的窗口中点击“激活新许可证”；然后你会看到一个新窗口，询问你想要激活哪种许可证(图 [1-10](#Fig10) )以及你是否打算将 Unity 用于商业或学习目的(图 [1-11](#Fig11) )。根据您的使用案例做出选择，然后单击“完成”

![../images/491049_1_En_1_Chapter/491049_1_En_1_Fig11_HTML.jpg](../images/491049_1_En_1_Chapter/491049_1_En_1_Fig11_HTML.jpg)

图 1-11

如果你不打算出售你的游戏，你可以免费使用 Unity，但如果你的公司收入低于一定数额，也有一些有趣的计划

![../images/491049_1_En_1_Chapter/491049_1_En_1_Fig10_HTML.jpg](../images/491049_1_En_1_Chapter/491049_1_En_1_Fig10_HTML.jpg)

图 1-10

您可以在两类许可证之间进行选择:Unity Personal(为个人和业余爱好者制作)和 Unity Plus 或 Pro(为专业人士制作)

完成所有步骤后，许可证管理窗口将包含您新的有效许可证的详细信息，这意味着您已经设置完毕(图 [1-12](#Fig12) )。

![../images/491049_1_En_1_Chapter/491049_1_En_1_Fig12_HTML.jpg](../images/491049_1_En_1_Chapter/491049_1_En_1_Fig12_HTML.jpg)

图 1-12

一个新的许可证被激活，Unity Hub 现在可以使用了！

#### 1.2.2.3 安装统一

激活您的 Unity ID 和许可证后，您需要从 Unity Hub 下载 Unity 版本。

点击窗口左侧的`Installs`，系统会提示您进入`Installs` *视图*，该视图会列出电脑上安装的所有可用的 Unity 版本(图 [1-13](#Fig13) )。

![../images/491049_1_En_1_Chapter/491049_1_En_1_Fig13_HTML.jpg](../images/491049_1_En_1_Chapter/491049_1_En_1_Fig13_HTML.jpg)

图 1-13

这是安装视图。在这里，您可以添加或删除不同版本的 Unity

在`Installs view`中，点击`Add`按钮选择要安装的 Unity 新版本，会弹出一个列表，列出所有可用的 Unity 版本，如图 [1-14](#Fig14) 所示。

![../images/491049_1_En_1_Chapter/491049_1_En_1_Fig14_HTML.jpg](../images/491049_1_En_1_Chapter/491049_1_En_1_Fig14_HTML.jpg)

图 1-14

安装 Unity 的第一步要求您选择引擎的版本

按照这本书，你不会被迫使用 Unity 的特定版本，因为我们不打算使用该软件的任何特定功能；无论如何，引擎的 UI 可能会因版本而异，所以我建议你不要使用比 2018 年 LTS 版更老的版本。我将从 2019 年开始为这本书使用 LTS 版本。

选择正确的 Unity 版本后，点击`Next`按钮。

一旦您选择了正确的版本并点击`Next`，您将被要求选择要安装的模块(图 [1-15](#Fig15) )。这些模块将允许你把你的项目导出到几个不同的平台，从桌面到移动和网络，以及其他更具体的平台，比如 tvOS 和 Vuforia。

![../images/491049_1_En_1_Chapter/491049_1_En_1_Fig15_HTML.jpg](../images/491049_1_En_1_Chapter/491049_1_En_1_Fig15_HTML.jpg)

图 1-15

安装 Unity 的第二步要求您选择要安装的模块。这些模块将允许您将项目导出到许多不同的平台

对于本书，我们将仅在桌面上导出，因此请选择与您使用的桌面操作系统(OS)相关的模块。比如你用的是 Mac，可能要安装`Mac Build Support`模块；如果你使用的是 Linux，安装`Linux Build Support`；如果你用的是 Windows(像我一样)，安装`Windows Build Support`。我还建议你安装`Documentation`模块，在你的电脑上安装这个模块总是有用的。

最后，单击`Done`按钮结束该过程，并开始下载和安装您刚才选择的 Unity 版本。